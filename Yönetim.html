<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YÃ¶netici Paneli</title>

  <style>
    body { font-family: Arial; background:#121212; color:#fff; margin:0; padding:20px; text-align:center; }
    h1 { color:#00e5ff; }

    /* Åžifre ekranÄ± */
    #loginBox { margin:40px auto; padding:20px; background:#1e1e1e; width:90%; max-width:360px; border-radius:10px; }
    #loginBox input { width:90%; padding:12px; margin-top:10px; border:1px solid #555; background:#222; color:#fff; border-radius:6px; text-align:center; }
    #loginBox button { margin-top:14px; padding:10px 20px; background:#00bcd4; border:none; color:#000; border-radius:6px; cursor:pointer; }

    /* Panel */
    #panel { display:none; margin-top:20px; }
    select { padding:10px; border-radius:6px; background:#222; color:#fff; border:1px solid #666; }
    table { border-collapse:collapse; width:95%; margin:20px auto; background:#1e1e1e; }
    th,td { border:1px solid #333; padding:8px; }
    th { background:#222; color:#00e5ff; }
  </style>
</head>
<body>

<h1>ðŸ“Œ YÃ¶netici Paneli</h1>

<!-- GiriÅŸ ekranÄ± -->
<div id="loginBox">
  <h3>YÃ¶netici GiriÅŸi</h3>
  <input type="password" id="pass" placeholder="Åžifreyi girin">
  <button onclick="checkPass()">GiriÅŸ</button>
</div>

<!-- YÃ¶netici paneli -->
<div id="panel">
  <h3>Sayfa SeÃ§</h3>
  <select id="sheetList"></select>
  <button onclick="loadSheet()" style="margin-left:10px; padding:10px 20px;">AÃ§</button>

  <div id="tableWrap"></div>
</div>

<script>
const REAL_PASSWORD = "yÃ¶netici.K2l5mXGjy";
const API_URL = "https://script.google.com/macros/s/AKfycbwxkg567Zvpzn6zHCmGOsd7w6_Fw4NGrIbWcVAOT7pe_tTWuwi5xOjFZzg4c5h2hnowyw/exec";

function checkPass(){
  const p = document.getElementById("pass").value;
  if(p === REAL_PASSWORD){
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("panel").style.display = "block";
    loadSheetNames();
  } else alert("YanlÄ±ÅŸ ÅŸifre!");
}

async function loadSheetNames(){
  const res = await fetch(API_URL + "?mode=sheets");
  const data = await res.json();
  const sel = document.getElementById("sheetList");
  sel.innerHTML = "";
  data.sheets.forEach(s=>{
    const op = document.createElement("option");
    op.value = s;
    op.textContent = s;
    sel.appendChild(op);
  });
}

async function loadSheet(){
  const name = document.getElementById("sheetList").value;
  const res = await fetch(API_URL + "?sheet=" + encodeURIComponent(name));
  const data = await res.json();
  renderTable(data.values);
}

function renderTable(values){
  let html = "<table>";
  values.forEach((row,i)=>{
    html += "<tr>";
    row.forEach(cell=>{
      if(i===0) html += `<th>${cell}</th>`;
      else html += `<td>${cell}</td>`;
    });
    html += "</tr>";
  });
  html += "</table>";
  document.getElementById("tableWrap").innerHTML = html;
}
</script>

</body>
</html>
